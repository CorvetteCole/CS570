# CS570 Assignment 5 - Simple Stateful Network File Server (SSNFS)

This project implements a Simple Stateful Network File Server (SSNFS) that uses a Linux file as a virtual disk to store files created by clients. The server and client are implemented using Sun RPC.

## Building the Project

To build the server, client, and tests for the SSNFS, follow these steps:

```shell
mkdir build
cd build
cmake ..
make
```

This will compile the server and client executables along with any necessary RPC-related files using `rpcgen`.

## Running the Server

To start the server, navigate to the directory containing the compiled executables and run:

```shell
./server
```

The server will begin listening for client connections on the specified port.

## Running the Client

To run the client, you must provide the hostname of the server as a command-line argument. Replace `server_host` with the actual hostname or IP address of the server:

```shell
./client server_host
```

The client will perform a series of file operations to test the server's functionality.

## Testing

The project includes a test suite for the virtual disk implementation. To run the tests, execute the following command:

```shell
./virtual_disk_tests
```

The test suite will automatically run all the tests defined in `tests/VirtualDiskTests.cpp` and output the results.

## Project Structure

- `server.cpp`: Contains the implementation of the SSNFS server.
- `client.cpp`: Contains the implementation of the SSNFS client.
- `IVirtualDisk.h`, `VirtualDisk.h`, `VirtualDisk.cpp`: Implements the virtual disk used by the server to store files.
- `ssnfs.h`, `ssnfs_clnt.c`, `ssnfs_svc.c`, `ssnfs_xdr.c`: Generated by `rpcgen` and contain RPC-related code.
- `CMakeLists.txt`: CMake configuration file for building the project.
- `tests/VirtualDiskTests.cpp`: Contains the test suite for the virtual disk.

## Notes

- Ensure that the server is running before starting the client.
- The virtual disk file is created at the server's startup if it does not exist.
- The server maintains a file table in memory, which is lost upon a crash or restart.

## Author

Cole Gerdemann